'use client';

import React, { useRef, useState } from 'react';

interface Position {
  x: number;
  y: number;
}

const SpotlightTextMask: React.FC = () => {
  const svgRef = useRef<HTMLDivElement>(null);
  const [position, setPosition] = useState<Position>({ x: 0, y: 0 });
  const [isHovered, setIsHovered] = useState<boolean>(false);

  const handleMouseMove: React.MouseEventHandler<HTMLDivElement> = (e) => {
    if (!svgRef.current) return;
    const rect = svgRef.current.getBoundingClientRect();
    setPosition({ x: e.clientX - rect.left, y: e.clientY - rect.top });
  };

  return (
    <div
      ref={svgRef}
      onMouseMove={handleMouseMove}
      onMouseEnter={() => setIsHovered(true)}
      onMouseLeave={() => setIsHovered(false)}
      role="button"
      tabIndex={0}
      onKeyDown={(e) => {
        if (e.key === 'Enter' || e.key === ' ') {
          setIsHovered(!isHovered);
        }
      }}
      className="relative inline-block cursor-pointer select-none"
    >
      <svg style={{
        mask: isHovered
          ? `radial-gradient(circle 220px at ${position.x}px ${position.y}px, black 0%, black 40%, transparent 80%)`
          : 'radial-gradient(circle 0px at 0px 0px, black, transparent)',
        WebkitMask: isHovered
          ? `radial-gradient(circle 220px at ${position.x}px ${position.y}px, black 0%, black 40%, transparent 80%)`
          : 'radial-gradient(circle 0px at 0px 0px, black, transparent)',
      }} width="1401" height="235" viewBox="0 0 1401 235" fill="none" xmlns="http://www.w3.org/2000/svg">
        <mask id="mask0_337_2352" maskUnits="userSpaceOnUse" x="0" y="0" width="1401" height="235">
          <path d="M1399.04 26.2105H1347.07V229.968H1399.04V26.2105ZM1400.23 231.166H1345.87V25.0124H1400.23V231.166Z" fill="url(#paint0_linear_337_2352)" />
          <path d="M1250.01 25.0124L1325.76 231.166H1267.98L1252.42 184.778H1174.58L1158.72 231.166H1102.12L1178.46 25.0124H1250.01ZM1179.3 26.2105L1103.84 229.968H1157.87L1173.72 183.58H1253.29L1268.85 229.968H1324.04L1249.18 26.2105H1179.3ZM1215.7 71.1309L1239.19 141.301H1188.11L1212.18 71.1309H1215.7ZM1189.78 140.103H1237.53L1214.84 72.3291H1213.04L1189.78 140.103Z" fill="url(#paint1_linear_337_2352)" />
          <path d="M1094 68.4889L1093.01 68.4938C1072.4 68.7218 1058.05 76.1956 1049.66 99.3162V71.4243H1000.05V229.968H1049.66V143.65C1052.84 121.974 1069.68 112.816 1090.65 112.535L1091.65 112.528H1096.05L1097.23 68.4889H1094V67.2908H1098.46L1097.22 113.726H1091.65C1081.09 113.726 1071.66 115.972 1064.5 120.823C1057.4 125.639 1052.44 133.088 1050.86 143.743V231.166H998.848V70.2262H1050.86V93.2153C1054.91 84.396 1060.08 78.2042 1066.45 74.0887C1074.09 69.1467 1083.3 67.2908 1094 67.2908V68.4889Z" fill="url(#paint2_linear_337_2352)" />
          <path d="M967.384 139.246C967.384 92.9285 952.355 68.866 898.78 68.4928L897.507 68.4889C843.779 68.489 816.475 87.2791 816.475 150.696L816.479 152.167C816.905 213.141 843.894 232.301 893.074 232.89L895.452 232.904C923.344 232.904 948.888 227.619 959.163 220.866V183.58C954.172 186.222 946.245 188.864 935.675 191.213C925.106 193.562 914.83 194.736 905.141 194.736V193.538C914.734 193.538 924.923 192.375 935.415 190.043C945.945 187.703 953.752 185.089 958.603 182.521L960.362 181.59V221.513L959.822 221.868C954.483 225.376 945.34 228.421 934.142 230.594C922.905 232.775 909.469 234.102 895.452 234.102C869.803 234.102 849.675 229.319 835.982 216.341C822.277 203.351 815.276 182.401 815.276 150.696C815.276 118.854 822.126 97.8926 836.026 84.9345C849.908 71.9932 870.554 67.2908 897.507 67.2908C924.952 67.2908 942.839 73.3361 953.815 85.5613C964.765 97.757 968.582 115.83 968.582 139.246C968.582 148.105 967.991 156.1 966.804 163.225L966.647 164.167L867.181 170.018C868.507 177.864 872.162 183.581 878.084 187.419C884.379 191.498 893.362 193.538 905.141 193.538V194.736L904.034 194.73C880.949 194.477 868.111 186.24 865.798 168.9L965.622 163.028C966.723 156.422 967.308 149.041 967.377 140.887L967.384 139.246ZM898.42 105.195C917.351 105.474 922.757 114.547 922.757 130.731L865.798 135.136C866.973 112.822 875.194 105.189 897.507 105.189L898.42 105.195ZM897.507 106.386C886.435 106.386 879.195 108.292 874.547 112.666C870.095 116.857 867.776 123.544 867.078 133.835L921.548 129.623C921.424 122.048 920.005 116.401 916.614 112.59C913.088 108.628 907.187 106.386 897.507 106.386Z" fill="url(#paint3_linear_337_2352)" />
          <path d="M703.529 6.83249H654.205V229.968H703.529V165.083H710.576L747.569 229.968H807.169L753.147 145.411L805.114 71.4243H748.744L712.924 127.208H703.529V6.83249ZM704.727 126.011H712.269L747.736 70.777L748.089 70.2262H807.42L754.589 145.443L809.357 231.166H746.873L709.879 166.281H704.727V231.166H653.007V5.63434H704.727V126.011Z" fill="url(#paint4_linear_337_2352)" />
          <path d="M613.7 122.217C613.7 85.224 599.475 68.9986 563.184 68.5006L561.439 68.4889C537.658 68.489 520.336 76.1224 512.115 89.0407V71.4243H462.79V229.968H512.115V125.153C515.638 113.409 524.446 108.124 540.007 108.124L540.891 108.128C559.245 108.293 564.082 113.735 564.082 134.255V229.968H613.7V122.217ZM513.312 85.3108C522.506 73.8165 539.357 67.2908 561.439 67.2908C580.367 67.2908 593.83 71.3526 602.527 80.4314C611.213 89.4984 614.898 103.313 614.898 122.217V231.166H562.884V134.255C562.884 123.82 561.607 117.737 558.321 114.186C555.067 110.669 549.537 109.323 540.007 109.323C532.345 109.323 526.498 110.626 522.169 113.258C517.916 115.844 515.01 119.785 513.312 125.336V231.166H461.592V70.2262H513.312V85.3108Z" fill="url(#paint5_linear_337_2352)" />
          <path d="M422.465 71.4243H372.847V229.968H422.465V71.4243ZM397.832 0.350372C403.904 0.496686 408.641 0.643332 412.307 1.16441C415.974 1.68553 418.763 2.60328 420.807 4.43617C422.863 6.28084 423.993 8.89666 424.699 12.4186C425.403 15.9286 425.718 20.5129 426.011 26.4445L426.014 26.503L426.011 26.5615C425.718 32.6407 425.404 37.3507 424.701 40.9675C423.997 44.5931 422.872 47.295 420.826 49.2142C418.786 51.1282 415.995 52.1071 412.319 52.6673C408.647 53.2268 403.906 53.3915 397.832 53.5379L397.803 53.5388L397.775 53.5379C391.627 53.3915 386.814 53.2263 383.079 52.6673C379.342 52.108 376.499 51.1314 374.422 49.222C372.334 47.3029 371.188 44.5982 370.491 40.9646C369.797 37.3423 369.521 32.6284 369.301 26.5469V26.504C369.301 20.6976 369.518 16.1341 370.246 12.5795C370.979 9.0049 372.251 6.32684 374.448 4.42252C376.627 2.53451 379.562 1.54109 383.333 0.999654C387.104 0.458361 391.863 0.350374 397.803 0.350372H397.832ZM397.803 1.54755C374.021 1.54755 370.498 3.30967 370.498 26.504C371.351 50.1112 373.031 51.6756 395.558 52.2842L397.803 52.3407C421.41 51.7718 423.525 50.9274 424.702 28.7199L424.814 26.504C423.64 2.72242 422.172 2.13476 397.803 1.54755ZM423.663 231.166H371.649V70.2262H423.663V231.166Z" fill="url(#paint6_linear_337_2352)" />
          <path d="M333.517 122.217C333.517 85.2241 319.292 68.9987 283.002 68.5006L281.257 68.4889C256.888 68.4889 240.152 76.4157 231.932 89.6276V6.83249H182.608V229.968H231.932V126.621C235.455 113.996 244.263 108.124 259.823 108.124C278.614 108.124 283.898 113.996 283.898 134.255V229.968H333.517V122.217ZM233.13 85.8138C242.243 74.068 258.628 67.2908 281.257 67.2908C300.184 67.2908 313.647 71.3525 322.345 80.4314C331.031 89.4984 334.715 103.313 334.715 122.217V231.166H282.701V134.255C282.701 124.136 281.357 118.035 278.025 114.403C274.724 110.805 269.176 109.323 259.823 109.323C252.181 109.323 246.349 110.766 242.027 113.636C237.764 116.467 234.838 120.772 233.13 126.79V231.166H181.409V5.63434H233.13V85.8138Z" fill="url(#paint7_linear_337_2352)" />
          <path d="M155.024 71.7178V26.2105H1.76504V71.7178H52.5572V229.968H104.231V71.7178H155.024ZM156.222 72.9159H105.429V231.166H51.3601V72.9159H0.566895V25.0124H156.222V72.9159Z" fill="url(#paint8_linear_337_2352)" />
        </mask>
        <g mask="url(#mask0_337_2352)">
          <g clipPath="url(#paint9_angular_337_2352_clip_path)" data-figma-skip-parse="true">
            <g transform="matrix(0.735744 0 0 0.225439 688.005 154.921)">
              <foreignObject x="-1004.97" y="-1004.97" width="2009.95" height="2009.95">
                <div style={{ background: 'conic-gradient(from 90deg,rgba(110, 107, 238, 1) 0deg,rgba(53, 0, 227, 1) 90deg,rgba(255, 152, 153, 1) 174.808deg,rgba(129, 183, 255, 1) 270deg,rgba(110, 107, 238, 1) 360deg)', height: '100%', width: '100%', opacity: 1 }}></div>
              </foreignObject>
            </g>
          </g>
          <rect x="-47.7383" y="-70.5188" width="1471.49" height="450.879" data-figma-gradient-fill="{&#34;type&#34;:&#34;GRADIENT_ANGULAR&#34;,&#34;stops&#34;:[{&#34;color&#34;:{&#34;r&#34;:0.43137255311012268,&#34;g&#34;:0.41960784792900085,&#34;b&#34;:0.93333333730697632,&#34;a&#34;:1.0},&#34;position&#34;:0.0},{&#34;color&#34;:{&#34;r&#34;:0.20820514857769012,&#34;g&#34;:0.0,&#34;b&#34;:0.89230769872665405,&#34;a&#34;:1.0},&#34;position&#34;:0.250},{&#34;color&#34;:{&#34;r&#34;:1.0,&#34;g&#34;:0.59615385532379150,&#34;b&#34;:0.60288465023040771,&#34;a&#34;:1.0},&#34;position&#34;:0.48557692766189575},{&#34;color&#34;:{&#34;r&#34;:0.50769221782684326,&#34;g&#34;:0.72102558612823486,&#34;b&#34;:1.0,&#34;a&#34;:1.0},&#34;position&#34;:0.750},{&#34;color&#34;:{&#34;r&#34;:0.43137255311012268,&#34;g&#34;:0.41960784792900085,&#34;b&#34;:0.93333333730697632,&#34;a&#34;:1.0},&#34;position&#34;:1.0}],&#34;stopsVar&#34;:[{&#34;color&#34;:{&#34;r&#34;:0.43137255311012268,&#34;g&#34;:0.41960784792900085,&#34;b&#34;:0.93333333730697632,&#34;a&#34;:1.0},&#34;position&#34;:0.0},{&#34;color&#34;:{&#34;r&#34;:0.20820514857769012,&#34;g&#34;:0.0,&#34;b&#34;:0.89230769872665405,&#34;a&#34;:1.0},&#34;position&#34;:0.250},{&#34;color&#34;:{&#34;r&#34;:1.0,&#34;g&#34;:0.59615385532379150,&#34;b&#34;:0.60288465023040771,&#34;a&#34;:1.0},&#34;position&#34;:0.48557692766189575},{&#34;color&#34;:{&#34;r&#34;:0.50769221782684326,&#34;g&#34;:0.72102558612823486,&#34;b&#34;:1.0,&#34;a&#34;:1.0},&#34;position&#34;:0.750},{&#34;color&#34;:{&#34;r&#34;:0.43137255311012268,&#34;g&#34;:0.41960784792900085,&#34;b&#34;:0.93333333730697632,&#34;a&#34;:1.0},&#34;position&#34;:1.0}],&#34;transform&#34;:{&#34;m00&#34;:1471.4874267578125,&#34;m01&#34;:0.0,&#34;m02&#34;:-47.738281250,&#34;m10&#34;:0.0,&#34;m11&#34;:450.87884521484375,&#34;m12&#34;:-70.518829345703125},&#34;opacity&#34;:1.0,&#34;blendMode&#34;:&#34;NORMAL&#34;,&#34;visible&#34;:true}" />
          <foreignObject x="-159.891" y="-182.672" width="1695.79" height="675.184">
            <div style={{ backdropFilter: 'blur(56.08px)', clipPath: 'url(#bgblur_0_337_2352_clip_path)', height: '100%', width: '100%' }}></div>
          </foreignObject>
          <rect data-figma-bg-blur-radius="112.153" x="-47.7383" y="-70.5188" width="1471.49" height="450.879" fill="white" fillOpacity="0.01" />
        </g>
        <defs>
          <clipPath id="paint9_angular_337_2352_clip_path"><rect x="-47.7383" y="-70.5188" width="1471.49" height="450.879" /></clipPath><clipPath id="bgblur_0_337_2352_clip_path" transform="translate(159.891 182.672)"><rect x="-47.7383" y="-70.5188" width="1471.49" height="450.879" />
          </clipPath><linearGradient id="paint0_linear_337_2352" x1="707.971" y1="-13.616" x2="708.47" y2="329.798" gradientUnits="userSpaceOnUse">
            <stop stop-color="#6E6BEE" />
            <stop offset="1" stop-color="#F0F0FA" />
          </linearGradient>
          <linearGradient id="paint1_linear_337_2352" x1="707.971" y1="-13.616" x2="708.47" y2="329.798" gradientUnits="userSpaceOnUse">
            <stop stop-color="#6E6BEE" />
            <stop offset="1" stop-color="#F0F0FA" />
          </linearGradient>
          <linearGradient id="paint2_linear_337_2352" x1="707.971" y1="-13.616" x2="708.47" y2="329.798" gradientUnits="userSpaceOnUse">
            <stop stop-color="#6E6BEE" />
            <stop offset="1" stop-color="#F0F0FA" />
          </linearGradient>
          <linearGradient id="paint3_linear_337_2352" x1="707.971" y1="-13.616" x2="708.47" y2="329.798" gradientUnits="userSpaceOnUse">
            <stop stop-color="#6E6BEE" />
            <stop offset="1" stop-color="#F0F0FA" />
          </linearGradient>
          <linearGradient id="paint4_linear_337_2352" x1="707.972" y1="-13.616" x2="708.471" y2="329.798" gradientUnits="userSpaceOnUse">
            <stop stop-color="#6E6BEE" />
            <stop offset="1" stop-color="#F0F0FA" />
          </linearGradient>
          <linearGradient id="paint5_linear_337_2352" x1="707.971" y1="-13.616" x2="708.47" y2="329.798" gradientUnits="userSpaceOnUse">
            <stop stop-color="#6E6BEE" />
            <stop offset="1" stop-color="#F0F0FA" />
          </linearGradient>
          <linearGradient id="paint6_linear_337_2352" x1="707.972" y1="-13.616" x2="708.471" y2="329.798" gradientUnits="userSpaceOnUse">
            <stop stop-color="#6E6BEE" />
            <stop offset="1" stop-color="#F0F0FA" />
          </linearGradient>
          <linearGradient id="paint7_linear_337_2352" x1="707.971" y1="-13.616" x2="708.47" y2="329.798" gradientUnits="userSpaceOnUse">
            <stop stop-color="#6E6BEE" />
            <stop offset="1" stop-color="#F0F0FA" />
          </linearGradient>
          <linearGradient id="paint8_linear_337_2352" x1="707.971" y1="-13.616" x2="708.47" y2="329.798" gradientUnits="userSpaceOnUse">
            <stop stop-color="#6E6BEE" />
            <stop offset="1" stop-color="#F0F0FA" />
          </linearGradient>
        </defs>
      </svg>

    </div>
  );
};
export default SpotlightTextMask;
